<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=100%, initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="css/styles.css" />
    <link rel="apple-touch-icon" sizes="180x180" href="pwa/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="pwa/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="pwa/favicon-16x16.png">
    <link rel="manifest" href="pwa/site.webmanifest">
    <link rel="mask-icon" href="pwa/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="pwa/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="pwa/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <meta name="description" content="webrtc pwa sample" />
    <meta name="theme-color" content="#2F3BA2" />
    <script src="https://code.jquery.com/jquery-1.11.0.min.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js" type="text/javascript"></script>
    <script src="https://webrtchacks.github.io/adapter/adapter-7.0.0.js" type="text/javascript"></script>
    <script src="js/owt.js" type="text/javascript"></script>
    <script src="js/index.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js"  type="text/javascript"></script>
    <script src="js/rest.sample.js" type="text/javascript"></script>
  </head>

  <body>
    <div id="m-dialog" class="dialog">
    </div>
    <div id="login-panel">
      <div id="default-login">
        <h3>Web Conference</h3>
        <p class="time"></p>
        <input placeholder="Login Name" id="login-input" />
        <div>
          <a href="#" onclick="toggleLoginSetting()" id="setting">Settings</a>
          <select id="subscribe-type">
              <option value="forward">Forward</option>
              <option value="mixed" selected="selected">Mixed</option>
          </select>
          <div style="display:none;" class="check-panel">
            <input type="checkbox" class="checkbox" />
            <span class="ice">ICE</span>
          </div>
        </div>
        <a href="#" class="button" onclick="login()">Login</a>
      </div>
      <div id="setting-login">
        <h4>Video Options</h4>
        <div>
          <div class="buttonset">
            <a class="button" onclick="loginDisableVideo()" id="login-audio-only">Audio-Only</a>
            <a class="button selected" onclick="loginEnableVideo()" id="login-audio-video">Video and Audio</a>
          </div>
        </div>
        <div id="login-resolution">
          <h4>Video Resolution</h4>
          <div>
            <div class="buttonset">
              <a class="button" id="login-240">320x240</a><a class="button"
                id="login-480">640x480</a><a class="button selected" id="login-720">1280x720</a>
            </div>
          </div>
        </div>
        <a href="#" onclick="toggleLoginSetting()" class="button">Save</a>
      </div>
    </div>
    <div id="container">
      <div id="title-panel">
        <div id="titleText">Open Visual Cloud Video Conferencing Sample</div>
        <div id="titleTime"></div>
        <a id="exitBtn" href="#" onclick="exit()">Leave Room</a>
        <div id="userNameDisplay"></div>
        <!-- <a id="playpause" href="#" onclick="playpause()" >Pause Video</a> -->
      </div>
      <div id="progress-panel">
        <div id="progress" class="back-clt-0"></div>
      </div>
      <div id="content-panel">
        <div id="text-panel">
          <div id="user-list"></div>
          <div id="text-content"></div>
          <textarea id="text-send" placeholder="Send Message"></textarea>
          <a href="#" id="send-btn" onclick="sendIm()"><img src="img/return.png" /></a>
        </div>
        <div id="video-panel" class="galaxy">
          <div class="largest-mask"></div>
          <div class="msgBox">
            <div id="msgText"></div>
          </div>
        </div>
      </div>
      <div id="menu-panel" class="back-clt-0">
        <div id="menu">
          <a href="#" class="button selected" onclick="changeMode('galaxy')" id="galaxy-btn"
            title="Galaxy Layout"></a>
          <a href="#" class="button" onclick="changeMode('monitor')" id="monitor-btn" title="Monitor Layout"></a>
          <a href="#" class="button" onclick="changeMode('lecture')" id="lecture-btn" title="Lecture Layout"></a>
          <div class="button-split"></div>
          <a href="#" class="button selected" onclick="toggleIm()" id="im-btn" title="Toggle Instant Message Panel"></a>
          <a href="#" class="button" onclick="shareScreen()" id="screen-btn" title="Share Screen"></a>
          <div class="button-split"></div>
        </div>
        <div id="info" class="hide">
          <p>Codec name:&nbsp;<span id="codec"></span></p>
          <p>Packets received:&nbsp;<span id="rcvd">0</span></p>
          <p>Packets lost:&nbsp;<span id="lost">0</span></p>
          <p>Bit rate:&nbsp;<span id="bitRate">0.000</span>Mbps</p>
          <p>Receive bandwidth:&nbsp;<span id="bandwidth">0.000</span>Mbps</p>
        </div>
        <div id="wifi" onclick="$('#info').toggleClass('show');">
          <img id="wifi0" src="./img/wifi0.png">
          <img id="wifi1" src="./img/wifi1.png">
          <img id="wifi2" src="./img/wifi2.png">
          <img id="wifi3" src="./img/wifi3.png">
          <img id="wifi4" src="./img/wifi4.png">
        </div>
        <div id="profile">
          <div id="promt">Network condition is bad, you can pause video.</div>
          <div id="pauseVideo"></div>
          <div id="pauseAudio"></div>
        </div>
      </div>
    </div>
    <script>
        if('serviceWorker' in navigator) {
           window.addEventListener('load', () => {
            navigator.serviceWorker.register('/service-worker.js')
                .then((reg) => {
                    console.log('Service worker registered.', reg);
                });
            });
        }
    </script>
  </body>

</html>
